
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="https://learnopengl.com의 한국어 번역입니다.">
      
      
      
        <link rel="canonical" href="https://learnoglko.github.io/%EC%A1%B0%EB%AA%85/%EB%A8%B8%ED%8B%B0%EB%A6%AC%EC%96%BC/">
      
      
        <link rel="prev" href="../%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8%20%EC%A1%B0%EB%AA%85%20%ED%9A%A8%EA%B3%BC/">
      
      
        <link rel="next" href="../%EC%A1%B0%EB%AA%85%20%EB%A7%B5/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>머티리얼 - LearnOpenGL Korean</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../../css/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LearnOpenGL Korean" class="md-header__button md-logo" aria-label="LearnOpenGL Korean" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LearnOpenGL Korean
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              머티리얼
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LearnOpenGL Korean" class="md-nav__button md-logo" aria-label="LearnOpenGL Korean" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    LearnOpenGL Korean
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    소개
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    시작하기
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    시작하기
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/OpenGL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenGL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%B5%9C%EC%B4%88%EC%9D%98%20%EC%B0%BD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    최초의 창
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%B5%9C%EC%B4%88%EC%9D%98%20%EC%B0%BD-%EB%A6%AC%EB%88%85%EC%8A%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    리눅스에서의 최초의 창
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%95%88%EB%85%95%20%EC%B0%BD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    안녕 창
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%95%88%EB%85%95%20%EC%82%BC%EA%B0%81%ED%98%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    안녕 삼각형
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%85%B0%EC%9D%B4%EB%8D%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    셰이더
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%ED%85%8D%EC%8A%A4%EC%B3%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    텍스쳐
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EB%B3%80%ED%98%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    변형
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%A2%8C%ED%91%9C%20%EA%B3%B5%EA%B0%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    좌표 공간
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EC%B9%B4%EB%A9%94%EB%9D%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    카메라
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/%EB%81%9D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    끝
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    조명
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    조명
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EC%83%89%EA%B9%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    색깔
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8%20%EC%A1%B0%EB%AA%85%20%ED%9A%A8%EA%B3%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    기본적인 조명 효과
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    머티리얼
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    머티리얼
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        머티리얼 설정
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="머티리얼 설정">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        빛의 특성
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        다양한 빛 색상
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        연습 문제
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EC%A1%B0%EB%AA%85%20%EB%A7%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    조명 맵
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EB%8B%A4%EC%96%91%ED%95%9C%20%EA%B4%91%EC%9B%90%20%EB%AA%A8%EB%8D%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    다양한 광원 모델
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        머티리얼 설정
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="머티리얼 설정">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        빛의 특성
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        다양한 빛 색상
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        연습 문제
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="_1">머티리얼</h1>
<p>실제 세계에서 각 물체는 빛에 대해 서로 다른 반응을 보입니다. 예를 들어 강철 물체는 점토 꽃병보다 더 반짝이는 경우가 많고, 나무 용기는 강철 용기와 빛에 대한 반응이 다릅니다. 어떤 물체는 빛을 거의 산란시키지 않고 반사하여 작은 반사광을 만들어내는 반면, 어떤 물체는 빛을 많이 산란시켜 반사광의 반경이 더 넓어집니다. OpenGL에서 여러 종류의 물체를 시뮬레이션하려면 각 표면에 특정한 머티리얼 속성을 정의해야 합니다.</p>
<p>이전 장에서는 객체와 광원의 색상을 정의하여 객체의 시각적 출력을 정의했고, 주변광과 반사광의 강도 요소를 결합했습니다. 표면을 설명할 때는 주변광, 확산광, 반사광의 세 가지 조명 요소 각각에 대해 머티리얼 색상을 정의할 수 있습니다. 각 요소에 색상을 지정함으로써 표면의 색상 출력을 세밀하게 제어할 수 있습니다. 이제 이 세 가지 색상에 광택 요소를 추가하면 필요한 모든 머티리얼 속성을 갖추게 됩니다.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#version 330 core</span>
<span class="k">struct</span><span class="w"> </span><span class="n">Material</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">ambient</span><span class="p">;</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">diffuse</span><span class="p">;</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">specular</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">shininess</span><span class="p">;</span>
<span class="p">};</span><span class="w"> </span>

<span class="k">uniform</span><span class="w"> </span><span class="n">Material</span><span class="w"> </span><span class="n">material</span><span class="p">;</span>
</code></pre></div>
<p>프래그먼트 셰이더에서 표면의 머티리얼 속성을 저장할 구조체를 생성합니다. 개별 유니폼 값으로 저장할 수도 있지만, 구조체로 저장하면 더 체계적으로 관리할 수 있습니다. 먼저 구조체의 구조를 정의한 다음, 새로 생성된 구조체를 타입으로 하는 유니폼 변수를 선언하면 됩니다.</p>
<p>보시다시피, 퐁 조명의 각 구성 요소에 대해 색상 벡터를 정의합니다. ambient 머티리얼 벡터는 주변광 아래에서 표면이 반사하는 색상을 정의하며, 일반적으로 표면의 색상과 동일합니다. diffuse 머티리얼 벡터는 확산광 아래에서 표면의 색상을 정의합니다. 확산광 색상은 (주변광과 마찬가지로) 원하는 표면 색상으로 설정됩니다. specular 머티리얼 벡터는 표면의 반사광 색상을 설정합니다(또는 표면별 색상을 반영할 수도 있습니다). 마지막으로, shininess(광택도)는 반사광의 산란/반경에 영향을 미칩니다.</p>
<p>객체의 재질을 정의하는 이 네 가지 구성 요소를 통해 실제 세계의 다양한 재질을 시뮬레이션할 수 있습니다. <a href="http://devernay.free.fr/cours/opengl/materials.html">devernay.free.fr</a>에서 찾을 수 있는 표에는 외부 세계에서 발견되는 실제 재질을 시뮬레이션하는 재질 속성 목록이 나와 있습니다. 다음 이미지는 이러한 실제 재질 값 중 일부가 큐브에 미치는 영향을 보여줍니다.</p>
<p><img alt="" src="../../static/materials_real_world.png" /></p>
<p>보시다시피, 표면의 재질 속성을 올바르게 지정하면 객체에 대한 인식이 달라지는 것을 알 수 있습니다. 효과는 분명히 눈에 띄지만, 더욱 사실적인 결과를 얻으려면 정육면체를 더 복잡한 형태로 바꿔야 합니다. 모델 로딩 장에서 더 복잡한 형태에 대해 자세히 살펴보겠습니다.</p>
<p>오브젝트에 적합한 재질 설정을 찾는 것은 매우 어려운 작업이며, 대부분 실험과 풍부한 경험을 필요로 합니다. 재질을 잘못 설정하면 오브젝트의 시각적 품질이 완전히 망가지는 경우도 드물지 않습니다.</p>
<p>셰이더에서 이러한 재질 시스템을 구현해 보겠습니다.</p>
<h2 id="_2">머티리얼 설정</h2>
<p>프래그먼트 셰이더에서 유니폼 변수인 material 구조체를 생성했으므로, 이제 새로운 머티리얼 속성에 맞게 조명 계산 방식을 변경하려고 합니다. 모든 머티리얼 변수가 구조체에 저장되어 있으므로, 머티리얼 유니폼에서 해당 변수들에 접근할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span><span class="w">    </span>
<span class="w">    </span><span class="c1">// ambient</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">ambient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lightColor</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">ambient</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// diffuse </span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">norm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="n">Normal</span><span class="p">);</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">lightDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="n">lightPos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">FragPos</span><span class="p">);</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span><span class="w"> </span><span class="n">lightDir</span><span class="p">),</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">diffuse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lightColor</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">diff</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">diffuse</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// specular</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">viewDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="n">viewPos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">FragPos</span><span class="p">);</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">reflectDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reflect</span><span class="p">(</span><span class="o">-</span><span class="n">lightDir</span><span class="p">,</span><span class="w"> </span><span class="n">norm</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">spec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">viewDir</span><span class="p">,</span><span class="w"> </span><span class="n">reflectDir</span><span class="p">),</span><span class="w"> </span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">shininess</span><span class="p">);</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">specular</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lightColor</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">specular</span><span class="p">);</span><span class="w">  </span>

<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ambient</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">diffuse</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">specular</span><span class="p">;</span>
<span class="w">    </span><span class="n">FragColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>보시다시피 이제 필요한 곳 ​​어디에서든 머티리얼 구조체의 모든 속성에 접근할 수 있으며, 이번에는 머티리얼의 색상을 이용하여 최종 출력 색상을 계산합니다. 각 객체의 머티리얼 속성은 해당 조명 구성 요소와 곱해집니다.</p>
<p>애플리케이션에서 객체의 머티리얼은 적절한 유니폼 변수를 설정함으로써 지정할 수 있습니다. 하지만 GLSL에서 구조체는 유니폼 변수 설정에 있어 특별한 역할을 하지 않습니다. 구조체는 단순히 유니폼 변수들의 네임스페이스 역할을 할 뿐입니다. 구조체를 채우려면 각 유니폼 변수에 구조체 이름을 접두사로 붙여 개별적으로 설정해야 합니다.</p>
<div class="highlight"><pre><span></span><code><span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="s">&quot;material.ambient&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.31f</span><span class="p">);</span>
<span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="s">&quot;material.diffuse&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.31f</span><span class="p">);</span>
<span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="s">&quot;material.specular&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5f</span><span class="p">);</span>
<span class="n">lightingShader</span><span class="p">.</span><span class="n">setFloat</span><span class="p">(</span><span class="s">&quot;material.shininess&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">32.0f</span><span class="p">);</span>
</code></pre></div>
<p>우리는 주변광과 확산광 성분을 원하는 색상으로 설정하고, 반사광 성분은 중간 밝기의 색상으로 설정합니다. 반사광이 너무 강하지 않도록 하기 위함입니다. 또한 광택도는 32로 유지합니다.</p>
<p>이제 애플리케이션에서 객체의 재질을 쉽게 변경할 수 있습니다. 프로그램을 실행하면 다음과 같은 결과가 나타납니다.</p>
<p><img alt="" src="../../static/materials_with_material.png" /></p>
<p>뭔가 좀 어색해 보이는데요?</p>
<h3 id="_3">빛의 특성</h3>
<p>물체가 너무 밝습니다. 물체가 너무 밝은 이유는 주변광, 확산광, 반사광 색상이 모든 광원에서 최대 강도로 반사되기 때문입니다. 광원은 또한 주변광, 확산광, 반사광 성분에 대해 각각 다른 강도를 가지고 있습니다. 이전 장에서는 주변광과 반사광의 강도를 강도 값으로 변경하여 이 문제를 해결했습니다. 이번에는 각 조명 성분에 대한 강도 벡터를 지정하여 비슷한 작업을 수행하려고 합니다. lightColor를 <code>vec3(1.0)</code>으로 시각화한다면 코드는 다음과 같습니다.</p>
<div class="highlight"><pre><span></span><code><span class="kt">vec3</span><span class="w"> </span><span class="n">ambient</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="kt">vec3</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">ambient</span><span class="p">;</span>
<span class="kt">vec3</span><span class="w"> </span><span class="n">diffuse</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="kt">vec3</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">diff</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">diffuse</span><span class="p">);</span>
<span class="kt">vec3</span><span class="w"> </span><span class="n">specular</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec3</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">specular</span><span class="p">);</span><span class="w"> </span>
</code></pre></div>
<p>따라서 객체의 각 재질 속성은 광원의 각 구성 요소에 대해 최대 강도로 반환됩니다. 이러한 <code>vec3(1.0)</code> 값은 각 광원에 대해 개별적으로 영향을 줄 수도 있으며, 일반적으로 이것이 우리가 원하는 것입니다. 현재 객체의 주변광 구성 요소가 큐브의 색상에 완전히 영향을 미치고 있습니다. 주변광 구성 요소는 최종 색상에 그렇게 큰 영향을 미치지 않아야 하므로 광원의 주변광 강도를 더 낮은 값으로 설정하여 주변광 색상을 제한할 수 있습니다.</p>
<div class="highlight"><pre><span></span><code><span class="kt">vec3</span><span class="w"> </span><span class="n">ambient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">vec3</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">ambient</span><span class="p">;</span><span class="w">  </span>
</code></pre></div>
<p>우리는 같은 방식으로 광원의 확산광과 반사광 강도를 조절할 수 있습니다. 이는 이전 장에서 했던 것과 매우 유사합니다. 즉, 각 조명 구성 요소에 개별적으로 영향을 줄 수 있는 몇 가지 조명 속성을 이미 만들었다고 할 수 있습니다. 이제 조명 속성을 위한 재질 구조와 유사한 것을 만들고자 합니다.</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="n">Light</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">position</span><span class="p">;</span>

<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">ambient</span><span class="p">;</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">diffuse</span><span class="p">;</span>
<span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">specular</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">uniform</span><span class="w"> </span><span class="n">Light</span><span class="w"> </span><span class="n">light</span><span class="p">;</span><span class="w">  </span>
</code></pre></div>
<p>광원은 주변광, 확산광, 반사광 성분에 대해 서로 다른 강도를 가집니다. 주변광은 주변 색상이 너무 두드러지지 않도록 일반적으로 낮은 강도로 설정됩니다. 광원의 확산광 성분은 일반적으로 원하는 색상(대개 밝은 흰색)으로 설정됩니다. 반사광 성분은 일반적으로 최대 강도로 빛나도록 <code>vec3(1.0)</code>으로 유지됩니다. 또한 구조체에 광원의 위치 벡터를 추가했음을 참고하십시오.</p>
<p>머티리얼 유니폼과 마찬가지로 프래그먼트 셰이더도 업데이트해야 합니다.</p>
<div class="highlight"><pre><span></span><code><span class="kt">vec3</span><span class="w"> </span><span class="n">ambient</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">light</span><span class="p">.</span><span class="n">ambient</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">ambient</span><span class="p">;</span>
<span class="kt">vec3</span><span class="w"> </span><span class="n">diffuse</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">light</span><span class="p">.</span><span class="n">diffuse</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">diff</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">diffuse</span><span class="p">);</span>
<span class="kt">vec3</span><span class="w"> </span><span class="n">specular</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">light</span><span class="p">.</span><span class="n">specular</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">spec</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">material</span><span class="p">.</span><span class="n">specular</span><span class="p">);</span><span class="w">  </span>
</code></pre></div>
<p>다음으로 애플리케이션에서 조명 강도를 설정해야 합니다.</p>
<div class="highlight"><pre><span></span><code><span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="err">&quot;</span><span class="n">light</span><span class="p">.</span><span class="n">ambient</span><span class="err">&quot;</span><span class="p">,</span><span class="w">  </span><span class="mf">0.2</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2</span><span class="n">f</span><span class="p">);</span>
<span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="err">&quot;</span><span class="n">light</span><span class="p">.</span><span class="n">diffuse</span><span class="err">&quot;</span><span class="p">,</span><span class="w">  </span><span class="mf">0.5</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="n">f</span><span class="p">);</span><span class="w"> </span><span class="c1">// 산란광은 약간 어둡게</span>
<span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="err">&quot;</span><span class="n">light</span><span class="p">.</span><span class="n">specular</span><span class="err">&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="n">f</span><span class="p">);</span><span class="w"> </span>
</code></pre></div>
<p>이제 빛이 물체의 재질에 미치는 영향을 조절했으므로 이전 장의 결과물과 매우 유사한 시각적 결과를 얻을 수 있습니다. 하지만 이번에는 조명과 물체의 재질을 완벽하게 제어할 수 있게 되었습니다.</p>
<p><img alt="" src="../../static/materials_light.png" /></p>
<p>현재로서는 사물의 시각적 요소를 바꾸는 것은 비교적 쉽습니다. 하지만 좀 더 다채롭게 만들어 볼까요!</p>
<h3 id="_4">다양한 빛 색상</h3>
<p>지금까지는 빛의 색상을 사용하여 흰색에서 회색, 검은색까지 다양한 색상을 선택함으로써 각 구성 요소의 강도만 조절하고, 물체의 실제 색상에는 영향을 주지 않았습니다. 이제 빛의 속성에 쉽게 접근할 수 있게 되었으므로 시간에 따라 빛의 색상을 변경하여 매우 흥미로운 효과를 만들어낼 수 있습니다. 프래그먼트 셰이더에 모든 설정이 완료되어 있으므로 빛의 색상을 변경하는 것은 간단하며, 즉시 독특한 효과를 만들어낼 수 있습니다. (아래 이미지를 클릭해 확인하세요.)</p>
<figure class="video_container">
  <video loop onclick="this.paused ? this.play() : this.pause();">
    <source src="/static/materials.mp4" type="video/webm">
  </video>
</figure>

<p>보시다시피, 빛의 색깔은 물체의 색상 표현에 큰 영향을 미칩니다. 빛의 색깔은 물체가 반사할 수 있는 색깔에 직접적인 영향을 주기 때문에(색깔 편에서 배웠듯이) 시각적 표현에 상당한 영향을 미칩니다.</p>
<p><code>sin</code>과 <code>glfwGetTime</code>을 통해 빛의 주변 색상과 확산 색상을 변경하면 시간에 따라 빛의 색상을 쉽게 바꿀 수 있습니다.</p>
<div class="highlight"><pre><span></span><code><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="w"> </span><span class="n">lightColor</span><span class="p">;</span>
<span class="n">lightColor</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">glfwGetTime</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2.0f</span><span class="p">);</span>
<span class="n">lightColor</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">glfwGetTime</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.7f</span><span class="p">);</span>
<span class="n">lightColor</span><span class="p">.</span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">glfwGetTime</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.3f</span><span class="p">);</span>

<span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="w"> </span><span class="n">diffuseColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lightColor</span><span class="w">   </span><span class="o">*</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">(</span><span class="mf">0.5f</span><span class="p">);</span><span class="w"> </span>
<span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="w"> </span><span class="n">ambientColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">diffuseColor</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">(</span><span class="mf">0.2f</span><span class="p">);</span><span class="w"> </span>

<span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="s">&quot;light.ambient&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ambientColor</span><span class="p">);</span>
<span class="n">lightingShader</span><span class="p">.</span><span class="n">setVec3</span><span class="p">(</span><span class="s">&quot;light.diffuse&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">diffuseColor</span><span class="p">);</span>
</code></pre></div>
<p>다양한 조명 및 재질 값을 적용해 보고 시각적 결과에 어떤 영향을 미치는지 실험해 보세요. 애플리케이션의 소스 코드는 <a href="https://github.com/JoeyDeVries/LearnOpenGL/blob/master/src/2.lighting/3.1.materials/materials.cpp">여기</a>에서 확인할 수 있습니다.</p>
<h2 id="_5">연습 문제</h2>
<ul>
<li>조명 색상을 변경하면 조명 큐브 객체의 색상도 변경되도록 만들 수 있나요?</li>
<li>이 장의 시작 부분에서 본 것처럼 각각의 재질을 정의하여 실제 세계의 물체를 시뮬레이션할 수 있습니까? 표의 주변광 값은 확산광 값과 동일하지 않습니다. 광 강도를 고려하지 않았기 때문입니다. 값을 올바르게 설정하려면 모든 광 강도를 vec3(1.0)으로 설정해야 동일한 출력을 얻을 수 있습니다. (<a href="https://github.com/JoeyDeVries/LearnOpenGL/blob/master/src/2.lighting/3.2.materials_exercise1/materials_exercise1.cpp">청록색 플라스틱 용기의 해결 방법</a>)</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>